<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VN Meet ‚Äì Video Conference</title>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
    rel="stylesheet">

  <!-- Lucide icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>
  <div class="app-shell">
    <header class="app-header">
      <div class="logo">
        <span class="logo-icon">VT</span>
        <span class="logo-text">Meet</span>
      </div>
      <div class="header-right">
        <span class="badge">VT MEET TO A.M</span>
      </div>
    </header>

    <!-- Container ch·ªçn ph√≤ng -->
    <main id="room-selection-container" class="card room-card">
      <h1>WebRTC Video Conference</h1>
      <p class="subtitle">Nh·∫≠p m√£ ph√≤ng ƒë·ªÉ b·∫Øt ƒë·∫ßu cu·ªôc g·ªçi 1‚Äì1 b·∫£o m·∫≠t.</p>

      <label class="input-label" for="room-input">Room ID</label>
      <div class="input-row">
        <input id="room-input" type="text" placeholder="V√≠ d·ª•: vku-12345" />
        <button id="connect-button" class="primary-btn">K·∫æT N·ªêI</button>
      </div>

      <p class="hint">
        B·∫°n c√≥ th·ªÉ t·ª± ƒë·∫∑t room ID, sau ƒë√≥ g·ª≠i cho ng∆∞·ªùi kh√°c ƒë·ªÉ join c√πng ph√≤ng.
      </p>
    </main>

    <!-- Container video conference -->
    <main id="video-chat-container" class="video-layout">
      <section class="video-area card">
        <div class="video-grid">
          <div class="video-wrapper">
            <span class="video-label">B·∫°n</span>
            <video id="local-video" autoplay muted playsinline></video>
          </div>
          <div class="video-wrapper">
            <span class="video-label">ƒê·ªëi t√°c</span>
            <video id="remote-video" autoplay playsinline></video>
          </div>
        </div>

        <!-- Bottom control bar -->
        <div class="bottom-bar">
          <div class="control-buttons">
            <button class="btn" id="mic-button" title="B·∫≠t / t·∫Øt micro">
              <i data-lucide="mic"></i>
            </button>
            <button class="btn" id="cam-button" title="B·∫≠t / t·∫Øt camera">
              <i data-lucide="camera"></i>
            </button>
            <button class="btn" id="share-screen-button" title="Chia s·∫ª m√†n h√¨nh">
              <i data-lucide="screen-share"></i>
            </button>
            <button class="btn" id="stop-share-button" title="D·ª´ng chia s·∫ª m√†n h√¨nh" style="display:none;">
              <i data-lucide="screen-share-off"></i>
            </button>
            <button class="btn" id="reactions-button" title="Th·∫£ c·∫£m x√∫c">
              <i data-lucide="smile"></i>
            </button>
            <button class="btn hangup" id="leave-button" title="R·ªùi cu·ªôc g·ªçi">
              <i data-lucide="phone-off"></i>
            </button>
          </div>
        </div>
        <!-- Reactions layer and popover -->
        <div id="reactions-layer" class="reactions-layer"></div>
        <div id="reactions-popover" class="reactions-popover" style="display:none;">
          <button class="rxn">üëç</button>
          <button class="rxn">‚ù§Ô∏è</button>
          <button class="rxn">üòÇ</button>
          <button class="rxn">üòÆ</button>
          <button class="rxn">üëè</button>
          <button class="rxn">üéâ</button>
        </div>
      </section>

      <!-- Chat modal trigger (floating button) -->
      <button id="chat-toggle" class="chat-fab" title="Chat" style="display:none;">
        <i data-lucide="message-circle"></i>
      </button>

      <!-- Chat modal + overlay -->
      <div id="chat-overlay" class="modal-overlay" style="display:none;"></div>
      <section id="chat-modal" class="chat-modal card" style="display:none;" role="dialog" aria-modal="true" aria-labelledby="chat-modal-title">
        <div class="chat-modal-header">
          <h3 id="chat-modal-title">Chat</h3>
          <button id="chat-close" class="icon-btn" aria-label="ƒê√≥ng">
            <i data-lucide="x"></i>
          </button>
        </div>
        <div class="chat-modal-body">
          <div class="chat-messages" id="chat-messages"></div>
          <div class="chat-input-row">
            <input id="chat-input" type="text" placeholder="Nh·∫Øn tin..." />
            <button id="chat-send" class="primary-btn">G·ª≠i</button>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- Socket.io + client.js -->
  <script src="/socket.io/socket.io.js"></script>
  <script src="client.js"></script>

  <!-- K√≠ch ho·∫°t Lucide icons -->
  <script>
    lucide.createIcons();
  </script>
</body>

</html>
